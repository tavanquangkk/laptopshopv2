

spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

#config view engine
spring.mvc.view.prefix=/WEB-INF/view/
spring.mvc.view.suffix=.jsp

#default = 1MB
spring.servlet.multipart.max-file-size=50MB

#default = 10 MB (form data)
spring.servlet.multipart.max-request-size=50MB
server.port=8080
logging.level.org.springframework.security=DEBUG

#session

# Giúp Spring nhận biết đang chạy qua proxy HTTPS của Render
server.forward-headers-strategy=native
server.use-forward-headers=true

# Cho phép cookie session hoạt động với HTTPS
server.servlet.session.cookie.secure=true
server.servlet.session.tracking-modes=cookie

# Nếu vẫn lỗi, thử tạm thời đặt false để test
# server.servlet.session.cookie.secure=false

spring.session.store-type=jdbc
spring.session.timeout=30m

spring.session.jdbc.initialize-schema=always
# server.servlet.session.timeout
# spring.session.jdbc.table-name=SPRING_SESSION
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
server.forward-headers-strategy=FRAMEWORK
#
#spring.datasource.url=jdbc:mysql:///laptopshop?cloudSqlInstance=todo-app-backend-461210:asia-northeast2:laptopshop&socketFactory=com.google.cloud.sql.mysql.SocketFactory
#spring.datasource.username=root
#spring.datasource.password=TAQUANG12345
